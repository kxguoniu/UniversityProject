<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>小牛运维站</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <link rel="shortcut icon" href="/static/favicon.ico">
    <link rel="bookmark" href="/static/favicon.ico">
    <link rel="stylesheet" href="http://at.alicdn.com/t/font_830376_qzecyukz0s.css">
    <link rel="stylesheet" type="text/css" href="/static/live2d/style.css">
    <link rel="stylesheet" type="text/css" href="/static/css/github-markdown.css">
    <script src="/static/live2d/jquery.min.js"></script>
</head>
<body>
    <div id="app"></div>
    <div class="waifu">
        <div class="waifu-tips"></div>
        <div style="width: 250px;overflow: hidden;">
            <canvas id="live2d" width="550" height="600" class="live2d" style="width: 325px;height: 300px;"></canvas>
        </div>
        <div class="waifu-tool">
            <span class="fui-home"></span>
            <span class="fui-eye"></span>
            <span class="fui-chat"></span>
            <!--<span class="fui-user"></span>-->
            <span class="fui-photo"></span>
            <span class="fui-info-circle"></span>
            <span class="fui-cross"></span>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.2/dist/vue.min.js"></script>
    <script src="https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js"></script>
    <script src="https://unpkg.com/element-ui@2.4.11/lib/index.js"></script>
    <script async src="/static/live2d/waifu-tips2.js"></script>
    <script src="/static/live2d/live2d.js"></script>
    <script type="text/javascript">
        loadlive2d("live2d", "/static/live2d/model.json");
    </script>
    <canvas id="Snow" style="position: fixed; top: 0px; left: 0px; z-index: 99999; opacity: 1; pointer-events: none;"></canvas>
    <script async>
        if(true){
            (function() {
                var requestAnimationFrame = window.requestAnimationFrame || window.     mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.       msRequestAnimationFrame ||
                function(callback) {
                    window.setTimeout(callback, 1000 / 60);
                };
                window.requestAnimationFrame = requestAnimationFrame;
            })();
            (function() {
                var flakes = [],
                    canvas = document.getElementById("Snow"),
                    sowlist = ['❄','❉','❅','❆','✻','✼','❇','❈','❊'],
                    sowsize = ["30px Arial","27px Arial","23px Arial","20px Arial","18px Arial","14px Arial","10px Arial"],
                    ctx = canvas.getContext("2d"),
                    flakeCount = 50,
                    mX = -100,
                    mY = -100;
        
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;

                if (canvas.width < 800){
                    flakeCount = 50;
                } else {
                    flakeCount = 200;
                };
                
                function snow() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                    for (var i = 0; i < flakeCount; i++) {
                        var flake = flakes[i],
                            x = mX,
                            y = mY,
                            minDist = 150,
                            x2 = flake.x,
                            y2 = flake.y;
                
                        var dist = Math.sqrt((x2 - x) * (x2 - x) + (y2 - y) * (y2 - y)),
                            dx = x2 - x,
                            dy = y2 - y;
                
                        if (dist < minDist) {
                            var force = minDist / (dist * dist),
                                xcomp = (x - x2) / dist,
                                ycomp = (y - y2) / dist,
                                deltaV = force / 2;
                
                            flake.velX -= deltaV * xcomp;
                            flake.velY -= deltaV * ycomp;
                
                        } else {
                            flake.velX *= .98;
                            if (flake.velY <= flake.speed) {
                                flake.velY = flake.speed
                            }
                            flake.velX += Math.cos(flake.step += .05) * flake.stepSize;
                        }
                
                        ctx.fillStyle = "rgba(255,255,255," + flake.opacity + ")";
                        flake.y += flake.velY;
                        flake.x += flake.velX;
                            
                        if (flake.y >= canvas.height || flake.y <= 0) {
                            reset(flake);
                        }
                
                        if (flake.x >= canvas.width || flake.x <= 0) {
                            reset(flake);
                        }
                        ctx.font=flake.textsize;
                        ctx.fillText(flake.texts, flake.x, flake.y);
                    }
                    requestAnimationFrame(snow);
                };
                
                function reset(flake) {
                    flake.x = Math.floor(Math.random() * canvas.width);
                    flake.y = 0;
                    flake.size = (Math.random() * 3) + 2;
                    flake.speed = (Math.random() * 1) + 0.5;
                    flake.velY = flake.speed;
                    flake.velX = 0;
                    flake.opacity = (Math.random() * 0.5) + 0.3;
                    flake.texts = sowlist[Math.round(Math.random()*(sowlist.length-1))];
                    flake.textsize = sowsize[Math.round(Math.random()*(sowlist.length-1))];
                }
                
                function init() {
                    for (var i = 0; i < flakeCount; i++) {
                        var x = Math.floor(Math.random() * canvas.width),
                            y = Math.floor(Math.random() * canvas.height),
                            size = (Math.random() * 3) + 2,
                            speed = (Math.random() * 1) + 0.5,
                            opacity = (Math.random() * 0.5) + 0.3;
                
                        flakes.push({
                            speed: speed,
                            velY: speed,
                            velX: 0,
                            x: x,
                            y: y,
                            size: size,
                            stepSize: (Math.random()) / 30 * 1,
                            step: 0,
                            angle: 180,
                            opacity: opacity,
                            texts: sowlist[Math.round(Math.random()*(sowlist.length-1))],
                            textsize: sowsize[Math.round(Math.random()*(sowlist.length-1))]
                        });
                    }
                    snow();
                };
                document.addEventListener("mousemove", function(e) {
                    mX = e.clientX,
                    mY = e.clientY
                });
                window.addEventListener("resize", function() {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                    if (canvas.width < 800){
                        flakeCount = 50;
                    } else {
                        flakeCount = 200;
                    };
                });
                init();
            })();
        }
    </script>
    <script type="text/javascript">
        !function(e, t, a) {
            //event, document,
            function n() {
                c(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),
                c(".heart1{width: 0px;height: 0px;position: fixed;}"),
                o(),
                r()
            }
            function r() {
                for (var e = 0; e < d.length; e++) {
                    if (d[e].alpha <= 0) {
                        t.body.removeChild(d[e].el),
                        t.body.removeChild(d[e].el1),
                        d.splice(e, 1)
                    } else {
                        d[e].y--,
                        d[e].y1--,
                        d[e].scale += .004,
                        d[e].alpha -= .013,
                        d[e].el.style.cssText = "left:" + d[e].x + "px;top:" + d[e].y + "px;opacity:" + d[e].alpha + ";transform:scale(" + d[e].scale + "," + d[e].scale + ") rotate(45deg);background:" + d[e].color + ";z-index:99998",
                        d[e].el1.style.cssText = "left:" + d[e].x1 + "px;top:" + d[e].y1 + "px;opacity:" + d[e].alpha + ";z-index:99999"
                    }
                }
                requestAnimationFrame(r)
            }
            function o() {
                var t = "function" == typeof e.onclick && e.onclick;
                e.onclick = function(e) {
                    t && t(),
                    i(e)
                }
            }
            function i(e) {
                var a = t.createElement("div");
                var a1 = t.createElement("div");
                var g = "+" + sum + "s";
                var h = t.createTextNode(g);
                if (sum<10){
                    var xx = 16
                } else if (sum<100){
                    var xx = 21
                } else {
                    var xx = 24
                }
                sum++,
                a.className = "heart",
                a1.className = "heart1",
                a1.appendChild(h),
                d.push({
                    el1: a1,
                    el: a,
                    x: e.clientX - 5,
                    y: e.clientY - 5,
                    x1: e.clientX - xx,
                    y1: e.clientY + 5,
                    scale: 1.3,
                    alpha: 1,
                    color: s()
                }),
                t.body.appendChild(a),
                t.body.appendChild(a1)
            }
            function c(e) {
                var a = t.createElement("style");
                a.type = "text/css";
                try {
                    a.appendChild(t.createTextNode(e))
                } catch(t) {
                    a.styleSheet.cssText = e
                }
                t.getElementsByTagName("head")[0].appendChild(a)
            }
            function s() {
                return "rgb(" + ~~ (255 * Math.random()) + "," + ~~ (255 * Math.random()) + "," + ~~ (255 * Math.random()) + ")"
            }
            var d = [];
            var sum = 0;
            e.requestAnimationFrame = function() {
                return e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame ||
                function(e) {
                    setTimeout(e, 1e3 / 60)
                }
            } (),
            n()
        } (window, document);
    </script>
</body>
</html>
